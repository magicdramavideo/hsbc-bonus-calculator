# Project TODO

## 核心功能
- [x] 建立職級資料模型與常數定義
- [x] 實作職級選擇與認列比例輸入功能
- [x] 實作財務指標輸入與達成率計算
- [x] 實作非財務指標輸入與達成率計算
- [x] 實作獎金計算邏輯（包含所有評分標準）
- [x] 實作本地資料儲存功能（AsyncStorage）
- [x] 實作歷史紀錄列表顯示
- [x] 實作紀錄詳情查看功能
- [x] 實作紀錄編輯與刪除功能

## 介面設計
- [x] 更新主題色彩為 HSBC 品牌色
- [x] 設計並實作主畫面（職級選擇）
- [x] 設計並實作計算畫面（指標輸入）
- [x] 設計並實作歷史紀錄畫面
- [x] 設計並實作紀錄詳情畫面
- [x] 新增底部標籤列導航
- [x] 新增圖示映射（icon-symbol.tsx）

## 品牌與資產
- [x] 生成應用程式圖示（Logo）
- [x] 更新 app.config.ts 品牌資訊

## 測試與優化
- [x] 測試所有計算邏輯的正確性
- [x] 測試資料儲存與讀取功能
- [ ] 測試使用者流程完整性
- [ ] 優化輸入體驗（數字鍵盤、格式化）

## Bug 修複
- [x] 修複 useLinkPreviewContext 錯誤（需要在 LinkPreviewContextProvider 內部使用）

## 邏輯修正
- [x] 修正 NNM 季目標計算（月目標 * 3）
- [x] 修正 NPS 權重計算（NPS=100 時 25%，NPS<100 時 20%）

## 新增功能需求
- [x] Wealth Penetration 及 NNM 百分比上限設置為 200%（超過時變色並顯示 CAP）
- [x] NPS 輸入值上限設置為 100
- [x] 非財務指標其他項目百分比上限設置為 100%（超過時變色並顯示 CAP）
- [x] 獎金旁邊顯示提撥比（獎金/總手收，百分比格式，小數點後兩位）
- [x] 歷史紀錄新增匯出功能（PDF、圖片、Excel）

## 部署與分發
- [x] 建立 Web 版本公開連結
- [ ] 準備 iOS 應用程式編譯配置
- [ ] 生成 iOS 應用程式用於 TestFlight 分發
- [ ] 生成 APK 檔案用於 Android 分發

## 功能修整
- [x] 修改 Wealth Penetration 和 NNM 計算邏輯，超過 200% 時使用 200%（而非只顯示 CAP）
- [x] 修改非財務指標計算邏輯，超過 100% 時使用 100%（而非只顯示 CAP）
- [x] 刪除歷史紀錄中的 PDF 和 Excel 匯出按鈕

## 顯示修改
- [x] 當 NNM 和 Wealth Penetration 超過 200% 時，顯示「超過 Cap」並用紅色呈現
- [x] 當非財務指標超過 100% 時，顯示「超過 Cap」並用紅色呈現

## Bug 修複
- [x] 修複超過上限時的顯示邏輯（顔色和「超過 Cap」文字未正確顯示）
